\begin{Verbatim}[commandchars=\\\{\}]
\PYG{k+kn}{from} \PYG{n+nn}{PIL} \PYG{k+kn}{import} \PYG{n}{Image} \PYG{k}{as} \PYG{n}{PIL}                                                    \PYG{c+c1}{\PYGZsh{}ALIAS DEFINED FOR SUB\PYGZhy{}MODULE AS SIMILAR NAME USED FOR CLASS}
\PYG{k+kn}{from} \PYG{n+nn}{PIL} \PYG{k+kn}{import} \PYG{n}{ImageTk}\PYG{p}{,} \PYG{n}{ImageDraw}
\PYG{k+kn}{from} \PYG{n+nn}{tkinter} \PYG{k+kn}{import} \PYG{o}{*}
\PYG{k+kn}{import} \PYG{n+nn}{threading}
\PYG{k+kn}{import} \PYG{n+nn}{subprocess}
\PYG{k+kn}{import} \PYG{n+nn}{os}

\PYG{k+kn}{import} \PYG{n+nn}{path}                                                                     \PYG{c+c1}{\PYGZsh{}CUSTOM MODULES}
\PYG{k+kn}{import} \PYG{n+nn}{update}
\PYG{k+kn}{import} \PYG{n+nn}{csv}
\PYG{k+kn}{import} \PYG{n+nn}{structures}

\PYG{k}{class} \PYG{n+nc}{Invalid}\PYG{p}{(}\PYG{n+ne}{Exception}\PYG{p}{):}                                                       \PYG{c+c1}{\PYGZsh{}CUSTOM ERROR RAISED WHEN VALIDATION CHECKS FAIL}
    \PYG{k}{pass}


\PYG{k}{class} \PYG{n+nc}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{threading}\PYG{o}{.}\PYG{n}{Thread}\PYG{p}{):}                                       \PYG{c+c1}{\PYGZsh{}CUSTOM THREAD CLASS TO ACCOMODATE EXCEPTIONS}
    \PYG{k}{def} \PYG{n+nf}{run}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread\PYGZus{}invalid} \PYG{o}{=} \PYG{n+nb+bp}{False}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread\PYGZus{}quit} \PYG{o}{=} \PYG{n+nb+bp}{False}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{invalid\PYGZus{}message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{k}{try}\PYG{p}{:}
                \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}target}\PYG{p}{:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}target}\PYG{p}{(}\PYG{o}{*}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}args}\PYG{p}{,} \PYG{o}{**}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}kwargs}\PYG{p}{)}
            \PYG{k}{finally}\PYG{p}{:}
                \PYG{k}{del} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}target}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}args}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{\PYGZus{}kwargs}

        \PYG{k}{except} \PYG{n}{Invalid} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}                                                    \PYG{c+c1}{\PYGZsh{}CATCHES CUSTOM ERRORS}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread\PYGZus{}invalid} \PYG{o}{=} \PYG{n+nb+bp}{True}
            \PYG{n}{info} \PYG{o}{=} \PYG{n}{e}\PYG{o}{.}\PYG{n}{args}
            \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{info}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{0} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{invalid\PYGZus{}message} \PYG{o}{=} \PYG{n}{info}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}

        \PYG{k}{except} \PYG{n}{update}\PYG{o}{.}\PYG{n}{Quit}\PYG{p}{:}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread\PYGZus{}quit} \PYG{o}{=} \PYG{n+nb+bp}{True}

    \PYG{k}{def} \PYG{n+nf}{join}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                             \PYG{c+c1}{\PYGZsh{}RETURNS DETAILS ABOUT EXCEPTIONS}
        \PYG{n}{threading}\PYG{o}{.}\PYG{n}{Thread}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread\PYGZus{}invalid} \PYG{p}{:} \PYG{k}{return} \PYG{l+s+s1}{\PYGZsq{}i \PYGZsq{}} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{invalid\PYGZus{}message}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread\PYGZus{}quit} \PYG{p}{:} \PYG{k}{return} \PYG{l+s+s1}{\PYGZsq{}q\PYGZsq{}}
        \PYG{k}{return} \PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}


\PYG{k}{class} \PYG{n+nc}{Image}\PYG{p}{():}                                                                  \PYG{c+c1}{\PYGZsh{}IMAGE CLASS \PYGZhy{} STORES/MANIPLUATES IMAGE DATA}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{image\PYGZus{}file}\PYG{p}{,} \PYG{n}{rectilinear}\PYG{p}{):}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{image\PYGZus{}name} \PYG{o}{=} \PYG{n}{image\PYGZus{}file}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name} \PYG{o}{=} \PYG{n+nb+bp}{None}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}csv\PYGZus{}name} \PYG{o}{=} \PYG{n+nb+bp}{None}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear} \PYG{o}{=} \PYG{n}{rectilinear}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edited} \PYG{o}{=} \PYG{n+nb+bp}{False}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{inverted} \PYG{o}{=} \PYG{n+nb+bp}{False}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size} \PYG{o}{=} \PYG{n+nb+bp}{None}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{=} \PYG{n+nb+bp}{None}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points} \PYG{o}{=} \PYG{p}{[}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes} \PYG{o}{=} \PYG{n+nb+bp}{None}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path} \PYG{o}{=} \PYG{p}{[]}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}one} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{255}\PYG{p}{]}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}two} \PYG{o}{=} \PYG{p}{[}\PYG{l+m+mi}{255}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{,} \PYG{l+m+mi}{0}\PYG{p}{]}

        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}update}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Loading Image\PYGZsq{}}\PYG{p}{)}                                      \PYG{c+c1}{\PYGZsh{}CATCH FILE OPENING ERRORS}
        \PYG{k}{try} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{img\PYGZus{}data} \PYG{o}{=} \PYG{n}{PIL}\PYG{o}{.}\PYG{n}{open}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{image\PYGZus{}name}\PYG{p}{)}
        \PYG{k}{except} \PYG{p}{:} \PYG{k}{raise} \PYG{n}{Invalid}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Error whilst opening the image \PYGZhy{} it may be corrupted or currently in use\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{width} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{img\PYGZus{}data}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{img\PYGZus{}data}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}

    \PYG{k}{def} \PYG{n+nf}{is\PYGZus{}rectilinear}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                   \PYG{c+c1}{\PYGZsh{}GETTERS AND SETTERS}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear}
    \PYG{k}{def} \PYG{n+nf}{is\PYGZus{}edited}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edited}

    \PYG{k}{def} \PYG{n+nf}{get\PYGZus{}cell\PYGZus{}size}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size}
    \PYG{k}{def} \PYG{n+nf}{get\PYGZus{}wall\PYGZus{}size}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size}
    \PYG{k}{def} \PYG{n+nf}{get\PYGZus{}maze\PYGZus{}csv\PYGZus{}name}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name}
    \PYG{k}{def} \PYG{n+nf}{get\PYGZus{}end\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}

    \PYG{k}{def} \PYG{n+nf}{set\PYGZus{}end\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{value}\PYG{p}{):}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{value}\PYG{p}{,} \PYG{n+nb}{list}\PYG{p}{)} \PYG{p}{:} \PYG{k}{raise} \PYG{n+ne}{TypeError}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Value must be of type list\PYGZsq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb}{all}\PYG{p}{(}\PYG{n+nb}{isinstance}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n+nb}{int}\PYG{p}{)} \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n}{value}\PYG{p}{)} \PYG{p}{:} \PYG{k}{raise} \PYG{n+ne}{TypeError}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}End points must be integers\PYGZsq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{value}\PYG{p}{)} \PYG{o}{!=} \PYG{l+m+mi}{4} \PYG{p}{:} \PYG{k}{raise} \PYG{n+ne}{ValueError}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}There must be 4 end point values\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{grid} \PYG{o}{=} \PYG{n}{csv}\PYG{o}{.}\PYG{n}{open\PYGZus{}integer\PYGZus{}grid}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name}\PYG{p}{)}
        \PYG{k}{try} \PYG{p}{:} \PYG{n}{test} \PYG{o}{=} \PYG{n}{grid}\PYG{p}{[}\PYG{n}{value}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]][}\PYG{n}{value}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]]} \PYG{o}{+} \PYG{n}{grid}\PYG{p}{[}\PYG{n}{value}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]][}\PYG{n}{value}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]]}
        \PYG{k}{except} \PYG{p}{:} \PYG{k}{raise} \PYG{n+ne}{ValueError}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}End points must be within maze boundaries\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points} \PYG{o}{=} \PYG{n}{value}
    \PYG{k}{def} \PYG{n+nf}{set\PYGZus{}edited}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edited} \PYG{o}{=} \PYG{n+nb+bp}{True}
    \PYG{k}{def} \PYG{n+nf}{set\PYGZus{}path\PYGZus{}colours}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{one}\PYG{p}{,} \PYG{n}{two}\PYG{p}{):}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{n}{test} \PYG{o}{=} \PYG{n+nb}{int}\PYG{p}{(}\PYG{n}{one}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{])} \PYG{o}{+} \PYG{n+nb}{int}\PYG{p}{(}\PYG{n}{one}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{])} \PYG{o}{+} \PYG{n+nb}{int}\PYG{p}{(}\PYG{n}{one}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{])} \PYG{o}{+} \PYG{n+nb}{int}\PYG{p}{(}\PYG{n}{two}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{])} \PYG{o}{+} \PYG{n+nb}{int}\PYG{p}{(}\PYG{n}{two}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{])} \PYG{o}{+} \PYG{n+nb}{int}\PYG{p}{(}\PYG{n}{two}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{])}
            \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{one}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{3} \PYG{p}{:} \PYG{k}{raise} \PYG{n+ne}{ValueError}
            \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{two}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{3} \PYG{p}{:} \PYG{k}{raise} \PYG{n+ne}{ValueError}
            \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n}{one} \PYG{o}{+} \PYG{n}{two}\PYG{p}{:}
                \PYG{k}{if} \PYG{o+ow}{not} \PYG{l+m+mi}{0} \PYG{o}{\PYGZlt{}=} \PYG{n}{x} \PYG{o}{\PYGZlt{}=} \PYG{l+m+mi}{255} \PYG{p}{:} \PYG{k}{raise} \PYG{n+ne}{ValueError}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}one} \PYG{o}{=} \PYG{n}{one}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}two} \PYG{o}{=} \PYG{n}{two}
        \PYG{k}{except} \PYG{p}{:} \PYG{k}{raise} \PYG{n}{Invalid}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Colours must be integer lists in the form [R,G,B]\PYGZsq{}}\PYG{p}{)}
    \PYG{k}{def} \PYG{n+nf}{reset\PYGZus{}end\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points} \PYG{o}{=} \PYG{p}{[}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}

    \PYG{k}{def} \PYG{n+nf}{rgb}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                              \PYG{c+c1}{\PYGZsh{}RETURNS 2D GRID OF RGB VALUES}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}update}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Converting To RGB\PYGZsq{}}\PYG{p}{)}
        \PYG{k}{try} \PYG{p}{:} \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{img\PYGZus{}data}\PYG{o}{.}\PYG{n}{convert}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}RGB\PYGZsq{}}\PYG{p}{)}                               \PYG{c+c1}{\PYGZsh{}CATCH ERRORS WHILST CONVERTING}
        \PYG{k}{except} \PYG{p}{:} \PYG{k}{raise} \PYG{n}{Invalid}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Error whilst converting the image \PYGZhy{} it may be corrupted\PYGZsq{}}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{greyscale}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}RETURNS 2D GRID OF INTEGER GREYSCALE VALUES}
        \PYG{n}{grid} \PYG{o}{=} \PYG{p}{[]}
        \PYG{n}{rgb\PYGZus{}data} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rgb}\PYG{p}{()}
        \PYG{n}{pixels} \PYG{o}{=} \PYG{n}{rgb\PYGZus{}data}\PYG{o}{.}\PYG{n}{load}\PYG{p}{()}                                                \PYG{c+c1}{\PYGZsh{}ALLOWS ACCESS TO PIXEL DATA}
        \PYG{k}{for} \PYG{n}{y} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height}\PYG{p}{):}
            \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}update}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Creating Greyscale \PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{y}\PYG{o}{/}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height}\PYG{o}{*}\PYG{l+m+mi}{100}\PYG{p}{))} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZpc{}\PYGZsq{}}\PYG{p}{)}
            \PYG{n}{grid}\PYG{o}{.}\PYG{n}{append}\PYG{p}{([])}
            \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{width}\PYG{p}{):}
                \PYG{n}{r\PYGZus{}luminance} \PYG{o}{=} \PYG{n}{pixels}\PYG{p}{[}\PYG{n}{x}\PYG{p}{,}\PYG{n}{y}\PYG{p}{][}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{*}\PYG{l+m+mf}{0.2126}
                \PYG{n}{g\PYGZus{}luminance} \PYG{o}{=} \PYG{n}{pixels}\PYG{p}{[}\PYG{n}{x}\PYG{p}{,}\PYG{n}{y}\PYG{p}{][}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{*}\PYG{l+m+mf}{0.7152}
                \PYG{n}{b\PYGZus{}luminance} \PYG{o}{=} \PYG{n}{pixels}\PYG{p}{[}\PYG{n}{x}\PYG{p}{,}\PYG{n}{y}\PYG{p}{][}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{o}{*}\PYG{l+m+mf}{0.0722}
                \PYG{n}{luminance} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{r\PYGZus{}luminance} \PYG{o}{+} \PYG{n}{g\PYGZus{}luminance} \PYG{o}{+} \PYG{n}{b\PYGZus{}luminance}\PYG{p}{)}
                \PYG{n}{grid}\PYG{p}{[}\PYG{n}{y}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{luminance}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{grid}

    \PYG{k}{def} \PYG{n+nf}{generate\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                    \PYG{c+c1}{\PYGZsh{}CREATES MAZE GRID USING R MODULES}
        \PYG{n}{directory} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{getcwd}\PYG{p}{()}
        \PYG{n}{cmd\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}/usr/local/bin/Rscript\PYGZsq{}}
        \PYG{n}{script\PYGZus{}path} \PYG{o}{=} \PYG{n}{directory} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}/maze.r\PYGZsq{}}
        \PYG{n}{greyscale\PYGZus{}csv} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}greyscale.csv\PYGZsq{}}
        \PYG{n}{input\PYGZus{}text} \PYG{o}{=} \PYG{n}{directory} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n}{greyscale\PYGZus{}csv} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}quit\PYGZus{}file}\PYG{p}{()} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}update\PYGZus{}file}\PYG{p}{()}
        \PYG{n}{input\PYGZus{}text} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear}\PYG{p}{)} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{inverted}\PYG{p}{)}
        \PYG{n}{grid} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{greyscale}\PYG{p}{()}                                                 \PYG{c+c1}{\PYGZsh{}CREATE GREYSCALE GRID FOR OTSU\PYGZsq{}S METHOD}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}update}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Saving Greyscale\PYGZsq{}}\PYG{p}{)}
        \PYG{n}{csv}\PYG{o}{.}\PYG{n}{save\PYGZus{}grid}\PYG{p}{(}\PYG{n}{greyscale\PYGZus{}csv}\PYG{p}{,} \PYG{n}{grid}\PYG{p}{)}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{check\PYGZus{}quit}\PYG{p}{()}
                                                                                \PYG{c+c1}{\PYGZsh{}CALL R PROGRAM AND WAIT FOR OUTPUT}
        \PYG{n}{data} \PYG{o}{=} \PYG{n}{subprocess}\PYG{o}{.}\PYG{n}{check\PYGZus{}output}\PYG{p}{([}\PYG{n}{cmd\PYGZus{}path}\PYG{p}{,} \PYG{n}{script\PYGZus{}path}\PYG{p}{,} \PYG{n}{input\PYGZus{}text}\PYG{p}{],} \PYG{n}{universal\PYGZus{}newlines}\PYG{o}{=}\PYG{n+nb+bp}{True}\PYG{p}{)}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}quit\PYGZsq{}}\PYG{p}{:}                                                   \PYG{c+c1}{\PYGZsh{}QUIT IF R PROGRAM HAS BEEN QUIT}
            \PYG{k}{raise} \PYG{n}{update}\PYG{o}{.}\PYG{n}{Quit}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear}\PYG{p}{:}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}csv\PYGZus{}name} \PYG{o}{=} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name} \PYG{o}{=} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size} \PYG{o}{=} \PYG{n+nb}{float}\PYG{p}{(}\PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{])}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{=} \PYG{n+nb}{float}\PYG{p}{(}\PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{])}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size} \PYG{o}{=} \PYG{l+m+mi}{1}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{=} \PYG{l+m+mf}{0.5}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name} \PYG{o}{=} \PYG{n}{data}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{check\PYGZus{}quit}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                     \PYG{c+c1}{\PYGZsh{}RETURNS PIL IMAGE OF MAZE GRID}
        \PYG{n}{grid} \PYG{o}{=} \PYG{n}{csv}\PYG{o}{.}\PYG{n}{open\PYGZus{}integer\PYGZus{}grid}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name}\PYG{p}{)}
        \PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n}{PIL}\PYG{o}{.}\PYG{n}{new}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}RGB\PYGZsq{}}\PYG{p}{,(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{grid}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]),}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{grid}\PYG{p}{)))}
        \PYG{n}{pixels} \PYG{o}{=} \PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{load}\PYG{p}{()}
        \PYG{k}{for} \PYG{n}{y} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{grid}\PYG{p}{)):}
            \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{grid}\PYG{p}{[}\PYG{n}{y}\PYG{p}{])):}
                \PYG{k}{if} \PYG{n}{grid}\PYG{p}{[}\PYG{n}{y}\PYG{p}{][}\PYG{n}{x}\PYG{p}{]} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}                                             \PYG{c+c1}{\PYGZsh{}BINARY MAZE GRID REPRESENTED BY BLACK/WHITE PIXELS}
                    \PYG{n}{pixels}\PYG{p}{[}\PYG{n}{x}\PYG{p}{,}\PYG{n}{y}\PYG{p}{]} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{255}\PYG{p}{,}\PYG{l+m+mi}{255}\PYG{p}{,}\PYG{l+m+mi}{255}\PYG{p}{)}
                \PYG{k}{elif} \PYG{n}{grid}\PYG{p}{[}\PYG{n}{y}\PYG{p}{][}\PYG{n}{x}\PYG{p}{]} \PYG{o}{==} \PYG{l+m+mi}{1}\PYG{p}{:}
                    \PYG{n}{pixels}\PYG{p}{[}\PYG{n}{x}\PYG{p}{,}\PYG{n}{y}\PYG{p}{]} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,}\PYG{l+m+mi}{0}\PYG{p}{,}\PYG{l+m+mi}{0}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{display\PYGZus{}image}

    \PYG{k}{def} \PYG{n+nf}{invert\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                      \PYG{c+c1}{\PYGZsh{}SWITCHES INVERTETED STATE}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{inverted} \PYG{o}{=} \PYG{o+ow}{not} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{inverted}

    \PYG{k}{def} \PYG{n+nf}{generate\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                  \PYG{c+c1}{\PYGZsh{}AUTO\PYGZhy{}GENERATES END POINTS}
        \PYG{n}{maze} \PYG{o}{=} \PYG{n}{csv}\PYG{o}{.}\PYG{n}{open\PYGZus{}integer\PYGZus{}grid}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points} \PYG{o}{=} \PYG{p}{[}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{,} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}

        \PYG{k}{for} \PYG{n}{y} \PYG{o+ow}{in} \PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{maze}\PYG{p}{)}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]:}                                              \PYG{c+c1}{\PYGZsh{}SEARCH FIRST AND LAST ROW FOR PATH CELL}
            \PYG{k}{if} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1} \PYG{o+ow}{not} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{:}\PYG{l+m+mi}{4}\PYG{p}{]} \PYG{p}{:} \PYG{k}{break}                           \PYG{c+c1}{\PYGZsh{}RETURN IF BOTH POINTS FOUND}
            \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{maze}\PYG{p}{[}\PYG{n}{y}\PYG{p}{])):}
                \PYG{n}{update}\PYG{o}{.}\PYG{n}{check\PYGZus{}quit}\PYG{p}{()}
                \PYG{k}{if} \PYG{n}{maze}\PYG{p}{[}\PYG{n}{y}\PYG{p}{][}\PYG{n}{x}\PYG{p}{]} \PYG{o}{==} \PYG{l+m+mi}{0} \PYG{o+ow}{and} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{]:}              \PYG{c+c1}{\PYGZsh{}IF NEITHER POINT FOUND YET}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{]} \PYG{o}{=} \PYG{p}{[}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{]}
                \PYG{k}{elif} \PYG{n}{maze}\PYG{p}{[}\PYG{n}{y}\PYG{p}{][}\PYG{n}{x}\PYG{p}{]} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{:}\PYG{l+m+mi}{4}\PYG{p}{]} \PYG{o}{=} \PYG{p}{[}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{]}
                    \PYG{k}{break}

        \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{maze}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{])}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]:}                                           \PYG{c+c1}{\PYGZsh{}DO THE SAME WITH FIRST AND LAST COLUMN}
            \PYG{k}{if} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1} \PYG{o+ow}{not} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{:}\PYG{l+m+mi}{4}\PYG{p}{]} \PYG{p}{:} \PYG{k}{break}
            \PYG{k}{for} \PYG{n}{y} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{maze}\PYG{p}{)):}
                \PYG{n}{update}\PYG{o}{.}\PYG{n}{check\PYGZus{}quit}\PYG{p}{()}
                \PYG{k}{if} \PYG{n}{maze}\PYG{p}{[}\PYG{n}{y}\PYG{p}{][}\PYG{n}{x}\PYG{p}{]} \PYG{o}{==} \PYG{l+m+mi}{0} \PYG{o+ow}{and} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{]:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{:}\PYG{l+m+mi}{2}\PYG{p}{]} \PYG{o}{=} \PYG{p}{[}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{]}
                \PYG{k}{elif} \PYG{n}{maze}\PYG{p}{[}\PYG{n}{y}\PYG{p}{][}\PYG{n}{x}\PYG{p}{]} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{:}\PYG{l+m+mi}{4}\PYG{p}{]} \PYG{o}{=} \PYG{p}{[}\PYG{n}{x}\PYG{p}{,} \PYG{n}{y}\PYG{p}{]}
                    \PYG{k}{break}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                   \PYG{c+c1}{\PYGZsh{}RETURNS PIL IMAGE OF MAZE WITH END POINTS OVERLAYED}
        \PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}
        \PYG{n}{pixels} \PYG{o}{=} \PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{load}\PYG{p}{()}
        \PYG{n}{pixels}\PYG{p}{[}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]]} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{250}\PYG{p}{,}\PYG{l+m+mi}{2}\PYG{p}{,}\PYG{l+m+mi}{60}\PYG{p}{)}
        \PYG{n}{pixels}\PYG{p}{[}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{],}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]]} \PYG{o}{=} \PYG{p}{(}\PYG{l+m+mi}{250}\PYG{p}{,}\PYG{l+m+mi}{2}\PYG{p}{,}\PYG{l+m+mi}{60}\PYG{p}{)}
        \PYG{k}{return} \PYG{n}{display\PYGZus{}image}

    \PYG{k}{def} \PYG{n+nf}{generate\PYGZus{}nodes}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                   \PYG{c+c1}{\PYGZsh{}FINDS NODES USING R MODULES}
        \PYG{n}{directory} \PYG{o}{=} \PYG{n}{os}\PYG{o}{.}\PYG{n}{getcwd}\PYG{p}{()}
        \PYG{n}{cmd\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}/usr/local/bin/Rscript\PYGZsq{}}
        \PYG{n}{input\PYGZus{}text} \PYG{o}{=} \PYG{n}{directory} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}csv\PYGZus{}name} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}quit\PYGZus{}file}\PYG{p}{()} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}update\PYGZus{}file}\PYG{p}{()}
        \PYG{n}{script\PYGZus{}path} \PYG{o}{=} \PYG{n}{directory} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}/rectangles.r\PYGZsq{}}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear}\PYG{p}{:}                                                \PYG{c+c1}{\PYGZsh{}USE RSR TO REDUCE NODE AMOUNTS FOR NON\PYGZhy{}RECTILINEAR}
            \PYG{n}{rect\PYGZus{}csv\PYGZus{}file} \PYG{o}{=} \PYG{n}{subprocess}\PYG{o}{.}\PYG{n}{check\PYGZus{}output}\PYG{p}{([}\PYG{n}{cmd\PYGZus{}path}\PYG{p}{,} \PYG{n}{script\PYGZus{}path}\PYG{p}{,} \PYG{n}{input\PYGZus{}text}\PYG{p}{],} \PYG{n}{universal\PYGZus{}newlines}\PYG{o}{=}\PYG{n+nb+bp}{True}\PYG{p}{)}
            \PYG{k}{if} \PYG{n}{rect\PYGZus{}csv\PYGZus{}file} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}quit\PYGZsq{}}\PYG{p}{:}
                \PYG{k}{raise} \PYG{n}{update}\PYG{o}{.}\PYG{n}{Quit}

        \PYG{n}{input\PYGZus{}text} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear}\PYG{p}{)}
        \PYG{n}{script\PYGZus{}path} \PYG{o}{=} \PYG{n}{directory} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}/nodes.r\PYGZsq{}}
        \PYG{k}{for} \PYG{n}{point} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points} \PYG{p}{:} \PYG{n}{input\PYGZus{}text} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{point}\PYG{o}{+}\PYG{l+m+mi}{1}\PYG{p}{)}         \PYG{c+c1}{\PYGZsh{}INCREMENT INDEXES AS R STARTS AT 1 NOT 0}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear} \PYG{p}{:} \PYG{n}{input\PYGZus{}text} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{n}{rect\PYGZus{}csv\PYGZus{}file}
                                                                                \PYG{c+c1}{\PYGZsh{}CALL R PROGRAM AND WAIT FOR OUTPUT}
        \PYG{n}{data} \PYG{o}{=} \PYG{n}{subprocess}\PYG{o}{.}\PYG{n}{check\PYGZus{}output}\PYG{p}{([}\PYG{n}{cmd\PYGZus{}path}\PYG{p}{,} \PYG{n}{script\PYGZus{}path}\PYG{p}{,} \PYG{n}{input\PYGZus{}text}\PYG{p}{],} \PYG{n}{universal\PYGZus{}newlines}\PYG{o}{=}\PYG{n+nb+bp}{True}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{data} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}quit\PYGZsq{}}\PYG{p}{:}                                                      \PYG{c+c1}{\PYGZsh{}QUIT IF R PROGRAM HAS BEEN QUIT}
            \PYG{k}{raise} \PYG{n}{update}\PYG{o}{.}\PYG{n}{Quit}
        \PYG{n}{nodes\PYGZus{}grid} \PYG{o}{=} \PYG{n}{csv}\PYG{o}{.}\PYG{n}{open\PYGZus{}integer\PYGZus{}grid}\PYG{p}{(}\PYG{n}{data}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes} \PYG{o}{=} \PYG{n}{structures}\PYG{o}{.}\PYG{n}{Hash\PYGZus{}Table}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{nodes\PYGZus{}grid}\PYG{p}{))}                     \PYG{c+c1}{\PYGZsh{}HASH TABLE OF NODES AND NEIGHBOURS}
        \PYG{k}{for} \PYG{n}{node} \PYG{o+ow}{in} \PYG{n}{nodes\PYGZus{}grid}\PYG{p}{:}                                                 \PYG{c+c1}{\PYGZsh{}JOIN NODES TOGETHER IN BOTH DIRECTIONS}
            \PYG{n}{node\PYGZus{}id} \PYG{o}{=} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{])} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{])}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes}\PYG{p}{[}\PYG{n}{node\PYGZus{}id}\PYG{p}{]} \PYG{o}{=} \PYG{p}{[]}
            \PYG{k}{if} \PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]} \PYG{o}{!=} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{:}
                \PYG{n}{nbr\PYGZus{}id} \PYG{o}{=} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{])} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{])}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes}\PYG{p}{[}\PYG{n}{node\PYGZus{}id}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{nbr\PYGZus{}id}\PYG{p}{)}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes}\PYG{p}{[}\PYG{n}{nbr\PYGZus{}id}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{node\PYGZus{}id}\PYG{p}{)}
            \PYG{k}{if} \PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]} \PYG{o}{!=} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{:}
                \PYG{n}{nbr\PYGZus{}id} \PYG{o}{=} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{])} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n}{node}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{])}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes}\PYG{p}{[}\PYG{n}{node\PYGZus{}id}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{nbr\PYGZus{}id}\PYG{p}{)}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes}\PYG{p}{[}\PYG{n}{nbr\PYGZus{}id}\PYG{p}{]}\PYG{o}{.}\PYG{n}{append}\PYG{p}{(}\PYG{n}{node\PYGZus{}id}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{generate\PYGZus{}path}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                    \PYG{c+c1}{\PYGZsh{}USE PYTHON MODULE TO GENERATE SHORTEST PATH}
        \PYG{n}{start\PYGZus{}pos} \PYG{o}{=} \PYG{p}{[}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]]}
        \PYG{n}{end\PYGZus{}pos} \PYG{o}{=} \PYG{p}{[}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{],} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{end\PYGZus{}points}\PYG{p}{[}\PYG{l+m+mi}{3}\PYG{p}{]]}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path} \PYG{o}{=} \PYG{n}{path}\PYG{o}{.}\PYG{n}{shortest\PYGZus{}path}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{nodes}\PYG{p}{,} \PYG{n}{start\PYGZus{}pos}\PYG{p}{,} \PYG{n}{end\PYGZus{}pos}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{path\PYGZus{}colour}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{current}\PYG{p}{,} \PYG{n}{total}\PYG{p}{):}
        \PYG{n}{r} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{((}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}one}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{*}\PYG{n}{current} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}two}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{*}\PYG{p}{(}\PYG{n}{total}\PYG{o}{\PYGZhy{}}\PYG{n}{current}\PYG{p}{))} \PYG{o}{/} \PYG{n}{total}\PYG{p}{)}
        \PYG{n}{g} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{((}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}one}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{*}\PYG{n}{current} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}two}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{*}\PYG{p}{(}\PYG{n}{total}\PYG{o}{\PYGZhy{}}\PYG{n}{current}\PYG{p}{))} \PYG{o}{/} \PYG{n}{total}\PYG{p}{)}
        \PYG{n}{b} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{((}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}one}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{o}{*}\PYG{n}{current} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour\PYGZus{}two}\PYG{p}{[}\PYG{l+m+mi}{2}\PYG{p}{]}\PYG{o}{*}\PYG{p}{(}\PYG{n}{total}\PYG{o}{\PYGZhy{}}\PYG{n}{current}\PYG{p}{))} \PYG{o}{/} \PYG{n}{total}\PYG{p}{)}
        \PYG{k}{return} \PYG{p}{(}\PYG{n}{r}\PYG{p}{,} \PYG{n}{g}\PYG{p}{,} \PYG{n}{b}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}path}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                     \PYG{c+c1}{\PYGZsh{}RETURNS PIL IMAGE OF MAZE WITH PATH OVERLAYED}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path} \PYG{o}{==} \PYG{n+nb+bp}{None} \PYG{p}{:} \PYG{k}{return} \PYG{n+nb+bp}{None}
        \PYG{n}{total} \PYG{o}{=} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path}\PYG{p}{)}

        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rectilinear} \PYG{o+ow}{and} \PYG{o+ow}{not} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edited}\PYG{p}{:}                                \PYG{c+c1}{\PYGZsh{}ALLOWS PATH TO BE OVERLAYED ON ORIGINAL IMAGE}
            \PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rgb}\PYG{p}{()}
            \PYG{n}{walls} \PYG{o}{=} \PYG{n}{csv}\PYG{o}{.}\PYG{n}{open\PYGZus{}integer\PYGZus{}grid}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}csv\PYGZus{}name}\PYG{p}{)}
            \PYG{n}{draw} \PYG{o}{=} \PYG{n}{ImageDraw}\PYG{o}{.}\PYG{n}{Draw}\PYG{p}{(}\PYG{n}{display\PYGZus{}image}\PYG{p}{)}                                \PYG{c+c1}{\PYGZsh{}ALLOWS SHAPES TO BE DRAWN ON IMAGE}
            \PYG{n}{prev} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
            \PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{point} \PYG{o+ow}{in} \PYG{n+nb}{zip}\PYG{p}{(}\PYG{n+nb}{range}\PYG{p}{(}\PYG{n}{total}\PYG{p}{),} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path}\PYG{p}{):}
                \PYG{k}{if} \PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{\PYGZpc{}} \PYG{l+m+mi}{2} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
                    \PYG{n}{x1} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}       \PYG{c+c1}{\PYGZsh{}CONVERTS PATH INDEX TO PIXEL POS USING WALL POS}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{n}{x1} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{+} \PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size}\PYG{p}{)} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{\PYGZpc{}} \PYG{l+m+mi}{2} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
                    \PYG{n}{y1} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{n}{y1} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{+} \PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size}\PYG{p}{)} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}

                \PYG{k}{if} \PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{\PYGZpc{}} \PYG{l+m+mi}{2} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
                    \PYG{n}{x2} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{n}{x2} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{+} \PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size}\PYG{p}{)} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{\PYGZpc{}} \PYG{l+m+mi}{2} \PYG{o}{==} \PYG{l+m+mi}{0}\PYG{p}{:}
                    \PYG{n}{y2} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{n}{y2} \PYG{o}{=} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n}{walls}\PYG{p}{[}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{//}\PYG{l+m+mi}{2}\PYG{p}{][}\PYG{l+m+mi}{1}\PYG{p}{]} \PYG{o}{+} \PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{wall\PYGZus{}size} \PYG{o}{+} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{cell\PYGZus{}size}\PYG{p}{)} \PYG{o}{/} \PYG{l+m+mi}{2}\PYG{p}{)}
                                                                                \PYG{c+c1}{\PYGZsh{}USE COLOUR GRADIENT TO DRAW PATH}
                \PYG{n}{draw}\PYG{o}{.}\PYG{n}{line}\PYG{p}{((}\PYG{n}{x1}\PYG{p}{,}\PYG{n}{y1}\PYG{p}{,}\PYG{n}{x2}\PYG{p}{,}\PYG{n}{y2}\PYG{p}{),} \PYG{n}{fill}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour}\PYG{p}{(}\PYG{n}{i}\PYG{p}{,} \PYG{n}{total}\PYG{p}{))}
                \PYG{n}{prev} \PYG{o}{=} \PYG{n}{point}
            \PYG{k}{return} \PYG{n}{display\PYGZus{}image}

        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edited}\PYG{p}{:}                                                         \PYG{c+c1}{\PYGZsh{}IF EDITED MAZE GRID MUST BE USED}
            \PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}
            \PYG{n}{draw} \PYG{o}{=} \PYG{n}{ImageDraw}\PYG{o}{.}\PYG{n}{Draw}\PYG{p}{(}\PYG{n}{display\PYGZus{}image}\PYG{p}{)}
            \PYG{n}{prev} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
            \PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{point} \PYG{o+ow}{in} \PYG{n+nb}{zip}\PYG{p}{(}\PYG{n+nb}{range}\PYG{p}{(}\PYG{n}{total}\PYG{p}{),} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path}\PYG{p}{):}
                \PYG{n}{draw}\PYG{o}{.}\PYG{n}{line}\PYG{p}{((}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{],}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]),} \PYG{n}{fill}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour}\PYG{p}{(}\PYG{n}{i}\PYG{p}{,} \PYG{n}{total}\PYG{p}{))}
                \PYG{n}{prev} \PYG{o}{=} \PYG{n}{point}
            \PYG{k}{return} \PYG{n}{display\PYGZus{}image}

        \PYG{k}{else}\PYG{p}{:}                                                                   \PYG{c+c1}{\PYGZsh{}IF UNEDITED PATH CAN BE OVERLAYED ON ORIGINAL}
            \PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{rgb}\PYG{p}{()}
            \PYG{n}{draw} \PYG{o}{=} \PYG{n}{ImageDraw}\PYG{o}{.}\PYG{n}{Draw}\PYG{p}{(}\PYG{n}{display\PYGZus{}image}\PYG{p}{)}
            \PYG{n}{prev} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
            \PYG{k}{for} \PYG{n}{i}\PYG{p}{,} \PYG{n}{point} \PYG{o+ow}{in} \PYG{n+nb}{zip}\PYG{p}{(}\PYG{n+nb}{range}\PYG{p}{(}\PYG{n}{total}\PYG{p}{),} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path}\PYG{p}{):}
                \PYG{n}{draw}\PYG{o}{.}\PYG{n}{line}\PYG{p}{((}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],}\PYG{n}{prev}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{],}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],}\PYG{n}{point}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]),} \PYG{n}{fill}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}colour}\PYG{p}{(}\PYG{n}{i}\PYG{p}{,} \PYG{n}{total}\PYG{p}{))}
                \PYG{n}{prev} \PYG{o}{=} \PYG{n}{point}
            \PYG{k}{return} \PYG{n}{display\PYGZus{}image}

    \PYG{k}{def} \PYG{n+nf}{save\PYGZus{}image}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{image}\PYG{p}{,} \PYG{n}{path} \PYG{o}{=} \PYG{n+nb+bp}{False}\PYG{p}{):}                                  \PYG{c+c1}{\PYGZsh{}SAVES PIL IMAGE AND RETURNS FILE NAME USED}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{k}{if} \PYG{n}{path}\PYG{p}{:}
                \PYG{n}{sections} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{image\PYGZus{}name}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}.\PYGZsq{}}\PYG{p}{)}                           \PYG{c+c1}{\PYGZsh{}IF SAVING PATH USE DIFFERENT FILENAME}
                \PYG{n}{name} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}.\PYGZsq{}}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{sections}\PYG{p}{[:}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{])}
                \PYG{n}{name} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}path\PYGZsq{}}
                \PYG{n}{name} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}.\PYGZsq{}} \PYG{o}{+} \PYG{n}{sections}\PYG{p}{[}\PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1}\PYG{p}{]}
                \PYG{n}{image}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{n}{name}\PYG{p}{)}
                \PYG{k}{return} \PYG{n}{name}
            \PYG{k}{else}\PYG{p}{:}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{img\PYGZus{}data} \PYG{o}{=} \PYG{n}{image}
            \PYG{n}{image}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{image\PYGZus{}name}\PYG{p}{)}
            \PYG{k}{return} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{image\PYGZus{}name}
        \PYG{k}{except}\PYG{p}{:}
            \PYG{k}{raise} \PYG{n}{Invalid}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Error whilst saving the image \PYGZhy{} please try again\PYGZsq{}}\PYG{p}{)}


\PYG{k}{class} \PYG{n+nc}{Window}\PYG{p}{(}\PYG{n}{Frame}\PYG{p}{):}                                                            \PYG{c+c1}{\PYGZsh{}WINDOW CLASS TO GROUP GUI TOGETHER}
    \PYG{k}{def} \PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{master}\PYG{p}{):}
        \PYG{n}{Frame}\PYG{o}{.}\PYG{n+nf+fm}{\PYGZus{}\PYGZus{}init\PYGZus{}\PYGZus{}}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{master}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{master} \PYG{o}{=} \PYG{n}{master}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{width} \PYG{o}{=} \PYG{l+m+mi}{1200}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height} \PYG{o}{=} \PYG{l+m+mi}{700}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{width}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height}\PYG{o}{*}\PYG{l+m+mf}{0.925}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}\PYGZsh{}FA023C\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n+nb+bp}{None}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object} \PYG{o}{=} \PYG{n+nb+bp}{None}                                                 \PYG{c+c1}{\PYGZsh{}OBJECT TO ENCAPSULATE MAZE DATA}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{None}                                               \PYG{c+c1}{\PYGZsh{}IMAGE DISPLAYED ON CANVAS}

        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}frame} \PYG{o}{=} \PYG{n}{Frame}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame} \PYG{o}{=} \PYG{n}{Frame}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{bg}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas} \PYG{o}{=} \PYG{n}{Canvas}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}frame}\PYG{p}{,} \PYG{n}{width}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width}\PYG{p}{,} \PYG{n}{height}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height}\PYG{p}{,} \PYG{n}{highlightthickness}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{create\PYGZus{}text}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{width}\PYG{o}{*}\PYG{l+m+mf}{0.5}\PYG{p}{,}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height}\PYG{o}{*}\PYG{l+m+mf}{0.45}\PYG{p}{,} \PYG{n}{anchor}\PYG{o}{=}\PYG{n}{CENTER}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{)}
                                                                                \PYG{c+c1}{\PYGZsh{}UPDATE TEXT DISPLAYS USEFUL INFO TO USER}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{load\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Load Image\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{load\PYGZus{}maze}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{draw\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Draw Maze\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{draw\PYGZus{}maze}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edit\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Edit Maze\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edit\PYGZus{}maze}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{invert\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Invert Maze\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{invert\PYGZus{}maze}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{select\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Select Points Manually\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{select\PYGZus{}points}\PYG{p}{,}
                                    \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auto\PYGZus{}select\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Auto\PYGZhy{}Select Points\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auto\PYGZus{}select\PYGZus{}points}\PYG{p}{,}
                                         \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{solve\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Solve Maze\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{find\PYGZus{}path}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{save\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Save Maze\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{save\PYGZus{}maze}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{colour\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Change Path Colours\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{change\PYGZus{}colours}\PYG{p}{,}
                                    \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Return to Menu\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}home}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{back\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Go Back\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{go\PYGZus{}back}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Help\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}help}\PYG{p}{,} \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{preview\PYGZus{}button} \PYG{o}{=} \PYG{n}{Button}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}View Larger Image\PYGZsq{}}\PYG{p}{,} \PYG{n}{command}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}preview}\PYG{p}{,}
                                     \PYG{n}{highlightbackground}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{buttons\PYGZus{}bg}\PYG{p}{)}

        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{create\PYGZus{}window}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{update}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                           \PYG{c+c1}{\PYGZsh{}CALLED EVERY FRAME TO DEAL WITH THREADS}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}creating\PYGZsq{}}\PYG{p}{:}
            \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{is\PYGZus{}alive}\PYG{p}{():}                                          \PYG{c+c1}{\PYGZsh{}WHILST THREAD IS RUNNING DISPLAY INFO}
                \PYG{n}{update\PYGZus{}text} \PYG{o}{=} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}update}\PYG{p}{()}
                \PYG{k}{if} \PYG{n}{update\PYGZus{}text} \PYG{o}{!=} \PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{n}{update\PYGZus{}text}\PYG{p}{)}
            \PYG{k}{else}\PYG{p}{:}                                                               \PYG{c+c1}{\PYGZsh{}DEAL WITH FINISHED THREAD}
                \PYG{n}{thread\PYGZus{}info} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{join}\PYG{p}{()}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{thread\PYGZus{}info}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}i\PYGZsq{}}\PYG{p}{:}                                       \PYG{c+c1}{\PYGZsh{}VALIDATION ERROR}
                    \PYG{k}{if} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{thread\PYGZus{}info}\PYG{p}{)} \PYG{o}{\PYGZgt{}} \PYG{l+m+mi}{1}\PYG{p}{:}
                        \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{o}{.}\PYG{n}{join}\PYG{p}{(}\PYG{n}{thread\PYGZus{}info}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{:])}
                        \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Error whilst opening\PYGZsq{}}\PYG{p}{,} \PYG{n}{message}\PYG{p}{)}

                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}
                \PYG{k}{elif} \PYG{n}{thread\PYGZus{}info}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}q\PYGZsq{}} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}                   \PYG{c+c1}{\PYGZsh{}QUIT ERROR}
                \PYG{k}{else} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n+nb+bp}{None}

        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}drawing\PYGZsq{}}\PYG{p}{:}                                           \PYG{c+c1}{\PYGZsh{}MAZE IS BEING DRAWN IN PROCESSING}
            \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{is\PYGZus{}alive}\PYG{p}{():}
                \PYG{n}{thread\PYGZus{}info} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{join}\PYG{p}{()}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{thread\PYGZus{}info}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}q\PYGZsq{}} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{save\PYGZus{}maze}\PYG{p}{()}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n+nb+bp}{None}

        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}editing\PYGZsq{}}\PYG{p}{:}                                           \PYG{c+c1}{\PYGZsh{}MAZE IS BEING EDITED IN PROCESSING}
            \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{is\PYGZus{}alive}\PYG{p}{():}
                \PYG{n}{thread\PYGZus{}info} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{join}\PYG{p}{()}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{thread\PYGZus{}info}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}q\PYGZsq{}} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}
                \PYG{k}{else} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n+nb+bp}{None}

        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}selecting\PYGZsq{}}\PYG{p}{:}                                         \PYG{c+c1}{\PYGZsh{}END POINTS BEING SELECTED IN PROCESSING}
            \PYG{k}{if} \PYG{o+ow}{not} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{is\PYGZus{}alive}\PYG{p}{():}
                \PYG{n}{thread\PYGZus{}info} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{join}\PYG{p}{()}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{)}
                \PYG{k}{if} \PYG{n}{thread\PYGZus{}info}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}q\PYGZsq{}} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}
                \PYG{k}{elif} \PYG{o}{\PYGZhy{}}\PYG{l+m+mi}{1} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}end\PYGZus{}points}\PYG{p}{():}
                    \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Unselected end points\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Two end points must be selected to continue\PYGZsq{}}\PYG{p}{)}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}
                \PYG{k}{else}\PYG{p}{:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}points}\PYG{p}{()}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n+nb+bp}{None}

        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}finding\PYGZsq{}}\PYG{p}{:}                                           \PYG{c+c1}{\PYGZsh{}PATH BEING FOUND}
            \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{is\PYGZus{}alive}\PYG{p}{():}
                \PYG{n}{update\PYGZus{}text} \PYG{o}{=} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}update}\PYG{p}{()}
                \PYG{k}{if} \PYG{n}{update\PYGZus{}text} \PYG{o}{!=} \PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{:}
                    \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{n}{update\PYGZus{}text}\PYG{p}{)}
            \PYG{k}{else}\PYG{p}{:}
                \PYG{n}{thread\PYGZus{}quit} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{join}\PYG{p}{()}
                \PYG{k}{if} \PYG{n}{thread\PYGZus{}quit} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}
                \PYG{k}{else} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}path}\PYG{p}{()}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n+nb+bp}{None}

        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{master}\PYG{o}{.}\PYG{n}{after}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{create\PYGZus{}window}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                    \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW STRUCTURE}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{master}\PYG{o}{.}\PYG{n}{title}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}Maze Solver\PYGZdq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{master}\PYG{o}{.}\PYG{n}{geometry}\PYG{p}{(}\PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{width}\PYG{p}{)} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}x\PYGZsq{}} \PYG{o}{+} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height}\PYG{p}{))}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{pack}\PYG{p}{(}\PYG{n}{fill}\PYG{o}{=}\PYG{n}{BOTH}\PYG{p}{,} \PYG{n}{expand}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{)}

        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{o}{.}\PYG{n}{pack}\PYG{p}{(}\PYG{n}{fill}\PYG{o}{=}\PYG{n}{X}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}frame}\PYG{o}{.}\PYG{n}{pack}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{pack}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{add\PYGZus{}buttons}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{buttons}\PYG{p}{):}                                             \PYG{c+c1}{\PYGZsh{}ADDS SPECIFIC BUTTONS TO BUTTON FRAME}
            \PYG{k}{for} \PYG{n}{button} \PYG{o+ow}{in} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{o}{.}\PYG{n}{winfo\PYGZus{}children}\PYG{p}{():}
                \PYG{n}{button}\PYG{o}{.}\PYG{n}{grid\PYGZus{}forget}\PYG{p}{()}                                            \PYG{c+c1}{\PYGZsh{}REMOVE CURRENT BUTTONS}

            \PYG{n}{grid\PYGZus{}width} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{width} \PYG{o}{/} \PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{buttons}\PYG{p}{)}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{o}{.}\PYG{n}{rowconfigure}\PYG{p}{(}\PYG{l+m+mi}{0}\PYG{p}{,} \PYG{n}{minsize}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{height}\PYG{o}{*}\PYG{l+m+mf}{0.075}\PYG{p}{)}
            \PYG{k}{for} \PYG{n}{x} \PYG{o+ow}{in} \PYG{n+nb}{range}\PYG{p}{(}\PYG{n+nb}{len}\PYG{p}{(}\PYG{n}{buttons}\PYG{p}{)):}
                \PYG{n}{buttons}\PYG{p}{[}\PYG{n}{x}\PYG{p}{]}\PYG{o}{.}\PYG{n}{grid}\PYG{p}{(}\PYG{n}{row}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,}\PYG{n}{column}\PYG{o}{=}\PYG{n}{x}\PYG{p}{)}                                 \PYG{c+c1}{\PYGZsh{}PACK BUTTONS EVENLY}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{button\PYGZus{}frame}\PYG{o}{.}\PYG{n}{columnconfigure}\PYG{p}{(}\PYG{n}{x}\PYG{p}{,} \PYG{n}{minsize}\PYG{o}{=}\PYG{n}{grid\PYGZus{}width}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{main\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR MAIN MENU}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}main\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{load\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{draw\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Draw or load maze to start\PYGZsq{}}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{creating\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                    \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW WHILST MAZE BEING SCANNED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}creating\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}

    \PYG{k}{def} \PYG{n+nf}{image\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                       \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR WHEN IMAGE BEING DISPLAYED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edit\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{invert\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{select\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auto\PYGZus{}select\PYGZus{}button}\PYG{p}{,}
                          \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{preview\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{is\PYGZus{}rectilinear}\PYG{p}{()} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auto\PYGZus{}select\PYGZus{}button}\PYG{o}{.}\PYG{n}{config}\PYG{p}{(}\PYG{n}{state}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}active\PYGZsq{}}\PYG{p}{)}
        \PYG{k}{else} \PYG{p}{:} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{auto\PYGZus{}select\PYGZus{}button}\PYG{o}{.}\PYG{n}{config}\PYG{p}{(}\PYG{n}{state}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}disabled\PYGZsq{}}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{draw\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR WHEN MAZE IS BEING DRAWN}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}drawing\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}

    \PYG{k}{def} \PYG{n+nf}{edit\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR WHEN MAZE IS BEING EDITED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}editing\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}

    \PYG{k}{def} \PYG{n+nf}{selecting\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                   \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR WHEN POINTS ARE BEING SELECTED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}selecting\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}

    \PYG{k}{def} \PYG{n+nf}{points\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                      \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR WHEN POINTS ARE BEING DISPLAYED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}points\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{back\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{preview\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{solve\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}

    \PYG{k}{def} \PYG{n+nf}{finding\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                     \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR WHEN PATH IS BEING FOUND}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}finding\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}

    \PYG{k}{def} \PYG{n+nf}{path\PYGZus{}menu}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}SETS UP WINDOW FOR WHEN PATH ARE BEING DISPLAYED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}path\PYGZsq{}}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{add\PYGZus{}buttons}\PYG{p}{([}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{back\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{save\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{colour\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{preview\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{return\PYGZus{}button}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{help\PYGZus{}button}\PYG{p}{])}

    \PYG{k}{def} \PYG{n+nf}{get\PYGZus{}file}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                         \PYG{c+c1}{\PYGZsh{}RETURNS IMAGE FILE FROM DIALOG}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{master}\PYG{o}{.}\PYG{n}{update}\PYG{p}{()}
        \PYG{n}{file\PYGZus{}name} \PYG{o}{=} \PYG{n}{filedialog}\PYG{o}{.}\PYG{n}{askopenfilename}\PYG{p}{(}\PYG{n}{filetypes} \PYG{o}{=}\PYG{p}{((}\PYG{l+s+s1}{\PYGZsq{}Images\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}*.png\PYGZsq{}}\PYG{p}{),(}\PYG{l+s+s1}{\PYGZsq{}Images\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}*.gif\PYGZsq{}}\PYG{p}{),(}\PYG{l+s+s1}{\PYGZsq{}Images\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}*.jpg\PYGZsq{}}\PYG{p}{)),} \PYG{n}{title} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}Select Image\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{master}\PYG{o}{.}\PYG{n}{update}\PYG{p}{()}                                                    \PYG{c+c1}{\PYGZsh{}UPDATE BEFORE/AFTER TO STOP TKINTER CRASHING}
        \PYG{k}{return} \PYG{n}{file\PYGZus{}name}

    \PYG{k}{def} \PYG{n+nf}{load\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}LOADS IMAGE VIA THREAD}
        \PYG{n}{file\PYGZus{}name} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{get\PYGZus{}file}\PYG{p}{()}
        \PYG{k}{if} \PYG{n}{file\PYGZus{}name} \PYG{o}{!=} \PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}quitting}\PYG{p}{(}\PYG{n+nb+bp}{False}\PYG{p}{)}                                          \PYG{c+c1}{\PYGZsh{}RESET QUIT FILE}
            \PYG{k}{if} \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{askyesno}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Maze Type\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Is this maze rectilinear?\PYGZsq{}}\PYG{p}{)} \PYG{p}{:} \PYG{n}{rectilinear} \PYG{o}{=} \PYG{n+nb+bp}{True}
            \PYG{k}{else} \PYG{p}{:} \PYG{n}{rectilinear} \PYG{o}{=} \PYG{n+nb+bp}{False}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{target} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{call\PYGZus{}load}\PYG{p}{,} \PYG{n}{args} \PYG{o}{=} \PYG{p}{[}\PYG{n}{file\PYGZus{}name}\PYG{p}{,} \PYG{n}{rectilinear}\PYG{p}{])}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{start}\PYG{p}{()}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{creating\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{draw\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}DRAWS MAZE VIA THREAD}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}quitting}\PYG{p}{(}\PYG{n+nb+bp}{False}\PYG{p}{)}
        \PYG{n}{width} \PYG{o}{=} \PYG{n}{simpledialog}\PYG{o}{.}\PYG{n}{askinteger}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Maze Dimensions\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Enter maze width below\PYGZsq{}}\PYG{p}{,} \PYG{n}{minvalue}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{maxvalue}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{width} \PYG{p}{:} \PYG{k}{return}
        \PYG{n}{height} \PYG{o}{=} \PYG{n}{simpledialog}\PYG{o}{.}\PYG{n}{askinteger}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Maze Dimensions\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Enter maze height below\PYGZsq{}}\PYG{p}{,} \PYG{n}{minvalue}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n}{maxvalue}\PYG{o}{=}\PYG{l+m+mi}{500}\PYG{p}{)}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{height} \PYG{p}{:} \PYG{k}{return}
        \PYG{n}{name} \PYG{o}{=} \PYG{n}{simpledialog}\PYG{o}{.}\PYG{n}{askstring}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Maze Dimensions\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Enter maze name below\PYGZsq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{o+ow}{not} \PYG{n}{name} \PYG{p}{:} \PYG{k}{return}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{target} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{call\PYGZus{}draw}\PYG{p}{,} \PYG{n}{args} \PYG{o}{=} \PYG{p}{[}\PYG{n}{width}\PYG{p}{,} \PYG{n}{height}\PYG{p}{,} \PYG{n}{name} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}.png\PYGZsq{}}\PYG{p}{])}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{start}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Maze currently being drawn\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{draw\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{edit\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}EDITS MAZE VIA THREAD}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}quitting}\PYG{p}{(}\PYG{n+nb+bp}{False}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{target} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{call\PYGZus{}edit}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{start}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{delete}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}Maze currently being edited\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{set\PYGZus{}edited}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{edit\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{invert\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                      \PYG{c+c1}{\PYGZsh{}LOADS IMAGE BUT INVERTS THRESHOLD}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{delete}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{target} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{call\PYGZus{}invert}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{start}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{creating\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{save\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}SAVES MAZE AS A IMAGE FILE}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}path\PYGZsq{}}\PYG{p}{:}
                \PYG{n}{file\PYGZus{}name} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{save\PYGZus{}image}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{p}{,} \PYG{n+nb+bp}{True}\PYG{p}{)}
                \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showinfo}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Path saved\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}The maze route has been saved as \PYGZsq{}} \PYG{o}{+} \PYG{n}{file\PYGZus{}name}\PYG{p}{)}
            \PYG{k}{else}\PYG{p}{:}
                \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{save\PYGZus{}image}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{p}{)}
        \PYG{k}{except} \PYG{n}{Invalid} \PYG{k}{as} \PYG{n}{e}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{n}{e}\PYG{o}{.}\PYG{n}{args}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}
            \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Error whilst saving\PYGZsq{}}\PYG{p}{,} \PYG{n}{message}\PYG{p}{)}


    \PYG{k}{def} \PYG{n+nf}{select\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                    \PYG{c+c1}{\PYGZsh{}SELECT END POINTS VIA THREAD}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}quitting}\PYG{p}{(}\PYG{n+nb+bp}{False}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{target} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{call\PYGZus{}select}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{start}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{delete}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}End points being selected\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{selecting\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{auto\PYGZus{}select\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                               \PYG{c+c1}{\PYGZsh{}FIND END POINTS AUTOMATICALLY VIA THREAD}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}quitting}\PYG{p}{(}\PYG{n+nb+bp}{False}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{target} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{generate\PYGZus{}points}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{start}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{selecting\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{find\PYGZus{}path}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}FIND PATH VIA THREAD}
        \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}quitting}\PYG{p}{(}\PYG{n+nb+bp}{False}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread} \PYG{o}{=} \PYG{n}{Exception\PYGZus{}Thread}\PYG{p}{(}\PYG{n}{target} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{call\PYGZus{}find}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{thread}\PYG{o}{.}\PYG{n}{start}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{delete}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{finding\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{change\PYGZus{}colours}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                   \PYG{c+c1}{\PYGZsh{}CHANGE THE COLOUR GRADIENT OF THE PATH}
        \PYG{k}{try}\PYG{p}{:}
            \PYG{n}{colour\PYGZus{}input} \PYG{o}{=} \PYG{n}{simpledialog}\PYG{o}{.}\PYG{n}{askstring}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Path Colours\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Enter starting path colour below in the form R,G,B\PYGZsq{}}\PYG{p}{)}
            \PYG{n}{colour\PYGZus{}one} \PYG{o}{=} \PYG{n+nb}{list}\PYG{p}{(}\PYG{n+nb}{map}\PYG{p}{(}\PYG{n+nb}{int}\PYG{p}{,} \PYG{n}{colour\PYGZus{}input}\PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{)}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{},\PYGZsq{}}\PYG{p}{)))}
            \PYG{n}{colour\PYGZus{}input} \PYG{o}{=} \PYG{n}{simpledialog}\PYG{o}{.}\PYG{n}{askstring}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Path Colours\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Enter end path colour below in the form R,G,B\PYGZsq{}}\PYG{p}{)}
            \PYG{n}{colour\PYGZus{}two} \PYG{o}{=} \PYG{n+nb}{list}\PYG{p}{(}\PYG{n+nb}{map}\PYG{p}{(}\PYG{n+nb}{int}\PYG{p}{,} \PYG{n}{colour\PYGZus{}input}\PYG{o}{.}\PYG{n}{replace}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{,}\PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{)}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{},\PYGZsq{}}\PYG{p}{)))}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{set\PYGZus{}path\PYGZus{}colours}\PYG{p}{(}\PYG{n}{colour\PYGZus{}one}\PYG{p}{,} \PYG{n}{colour\PYGZus{}two}\PYG{p}{)}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}path}\PYG{p}{()}
        \PYG{k}{except}\PYG{p}{:}
            \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Invalid\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}Both colours must be in the form R,G,B where these are integers between 0 and 255\PYGZsq{}}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}maze}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                     \PYG{c+c1}{\PYGZsh{}DISPLAY MAZE ON CANVAS TO USER}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}                    \PYG{c+c1}{\PYGZsh{}RESIZE IMAGE TO FIT ON CANVAS}
        \PYG{n}{scale} \PYG{o}{=} \PYG{n+nb}{min}\PYG{p}{((}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width}\PYG{o}{*}\PYG{l+m+mf}{0.9}\PYG{p}{)} \PYG{o}{/} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],} \PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height}\PYG{o}{*}\PYG{l+m+mf}{0.9}\PYG{p}{)} \PYG{o}{/} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{])}
        \PYG{n}{resized} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{resize}\PYG{p}{((}\PYG{n+nb}{round}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{*}\PYG{n}{scale}\PYG{p}{),} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{*}\PYG{n}{scale}\PYG{p}{)))}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{background} \PYG{o}{=} \PYG{n}{ImageTk}\PYG{o}{.}\PYG{n}{PhotoImage}\PYG{p}{(}\PYG{n}{resized}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{create\PYGZus{}image}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{,}
                                         \PYG{n}{image}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{background}\PYG{p}{,} \PYG{n}{anchor}\PYG{o}{=}\PYG{n}{CENTER}\PYG{p}{,} \PYG{n}{tags}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{image\PYGZus{}menu}\PYG{p}{()}
        \PYG{k}{if} \PYG{n}{scale} \PYG{o}{\PYGZlt{}} \PYG{l+m+mf}{1.75}\PYG{p}{:}                                                        \PYG{c+c1}{\PYGZsh{}BELOW THIS MAZE GETS DISTORTED}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The maze may be too large to be accurately displayed in the quick view\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{} please press \PYGZdq{}View Larger Image\PYGZdq{}\PYGZsq{}}
            \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Large maze detected\PYGZsq{}}\PYG{p}{,} \PYG{n}{message}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}points}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                   \PYG{c+c1}{\PYGZsh{}DISPLAY MAZE WITH POINTS OVERLAYED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{display\PYGZus{}points}\PYG{p}{()}
        \PYG{n}{scale} \PYG{o}{=} \PYG{n+nb}{min}\PYG{p}{((}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width}\PYG{o}{*}\PYG{l+m+mf}{0.9}\PYG{p}{)} \PYG{o}{/} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],} \PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height}\PYG{o}{*}\PYG{l+m+mf}{0.9}\PYG{p}{)} \PYG{o}{/} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{])}
        \PYG{n}{resized} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{resize}\PYG{p}{((}\PYG{n+nb}{round}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{*}\PYG{n}{scale}\PYG{p}{),} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{*}\PYG{n}{scale}\PYG{p}{)))}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{background} \PYG{o}{=} \PYG{n}{ImageTk}\PYG{o}{.}\PYG{n}{PhotoImage}\PYG{p}{(}\PYG{n}{resized}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{create\PYGZus{}image}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{,}
                                         \PYG{n}{image}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{background}\PYG{p}{,} \PYG{n}{anchor}\PYG{o}{=}\PYG{n}{CENTER}\PYG{p}{,} \PYG{n}{tags}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{points\PYGZus{}menu}\PYG{p}{()}
        \PYG{k}{if} \PYG{n}{scale} \PYG{o}{\PYGZlt{}} \PYG{l+m+mf}{1.75}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The maze may be too large to be accurately displayed in the quick view\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{} please press \PYGZdq{}View Larger Image\PYGZdq{}\PYGZsq{}}
            \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Large maze detected\PYGZsq{}}\PYG{p}{,} \PYG{n}{message}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}path}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                     \PYG{c+c1}{\PYGZsh{}DISPLAY MAZE WITH PATH OVERLAYED}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{itemconfig}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{update\PYGZus{}text}\PYG{p}{,} \PYG{n}{text}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{display\PYGZus{}path}\PYG{p}{()}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image} \PYG{o}{==} \PYG{n+nb+bp}{None}\PYG{p}{:}                                          \PYG{c+c1}{\PYGZsh{}NO PATH FOUND SO RETURN TO PREVIOUS MENU}
            \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Path not found\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}There are no paths between the two points selected \PYGZhy{} please select different end points\PYGZsq{}}\PYG{p}{)}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{reset\PYGZus{}end\PYGZus{}points}\PYG{p}{()}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n}{scale} \PYG{o}{=} \PYG{n+nb}{min}\PYG{p}{((}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width}\PYG{o}{*}\PYG{l+m+mf}{0.9}\PYG{p}{)} \PYG{o}{/} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{],} \PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height}\PYG{o}{*}\PYG{l+m+mf}{0.9}\PYG{p}{)} \PYG{o}{/} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{])}
            \PYG{n}{resized} \PYG{o}{=} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{resize}\PYG{p}{((}\PYG{n+nb}{round}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{*}\PYG{n}{scale}\PYG{p}{),} \PYG{n+nb}{round}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{size}\PYG{p}{[}\PYG{l+m+mi}{1}\PYG{p}{]}\PYG{o}{*}\PYG{n}{scale}\PYG{p}{)))}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{background} \PYG{o}{=} \PYG{n}{ImageTk}\PYG{o}{.}\PYG{n}{PhotoImage}\PYG{p}{(}\PYG{n}{resized}\PYG{p}{)}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{create\PYGZus{}image}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}width}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{,} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{canvas\PYGZus{}height}\PYG{o}{/}\PYG{l+m+mi}{2}\PYG{p}{,}
                                             \PYG{n}{image}\PYG{o}{=}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{background}\PYG{p}{,} \PYG{n}{anchor}\PYG{o}{=}\PYG{n}{CENTER}\PYG{p}{,} \PYG{n}{tags}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{path\PYGZus{}menu}\PYG{p}{()}
            \PYG{k}{if} \PYG{n}{scale} \PYG{o}{\PYGZlt{}} \PYG{l+m+mi}{1}\PYG{p}{:}
                \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The maze may be too large to be accurately displayed in the quick view\PYGZsq{}}
                \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{} please press \PYGZdq{}View Larger Image\PYGZdq{}\PYGZsq{}}
                \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showwarning}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Large maze detected\PYGZsq{}}\PYG{p}{,} \PYG{n}{message}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}preview}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                  \PYG{c+c1}{\PYGZsh{}OPENS IMAGE FILE USING OS SOFTWARE (I.E. PREVIEW)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}image}\PYG{o}{.}\PYG{n}{show}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{display\PYGZus{}help}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                     \PYG{c+c1}{\PYGZsh{}DISPLAY HELP DEPENDING ON STATE}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}main\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}Press ?Load Image? to load a maze from an image file.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}You will be asked to select the file via a file browser.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Draw Maze}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to create a maze from scratch, using drawing software.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}You will be asked to specify the width and height of the image in pixels, as well as a name for the maze.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}creating\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The maze is currently being analysed and converted into a binary grid.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu and stop this analysis, press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}drawing\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The maze is currently being drawn using the Processing program.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu and stop this, press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}editing\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The maze is currently being edited using the Processing program.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu and stop this, press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}selecting\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The end points are currently being selected using the Processing program.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu and stop this, press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}finding\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}The solution to the maze is currently being found.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu and stop this algorithm, press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ Edit Maze}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to edit the maze using drawing software.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}It will open up a new window ? follow the instructions there.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Invert Maze}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to invert black and white pixels.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}This is used when the walls are of a lighter colour than the path in the original image.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Select Points Manually}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to select the start and end of the route through the maze yourself.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Auto\PYGZhy{}Select Points}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to get the program to choose end points for you.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{View Larger Image}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to display the image on the canvas in a larger format.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}points\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Go Back}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to edit the maze or select different end points.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{View Larger Image}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to display the image on the canvas in a larger format.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Solve Maze}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to solve the maze between the selected end points\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{View Larger Image}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to display the image on the canvas in a larger format.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{k}{elif} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}path\PYGZsq{}}\PYG{p}{:}
            \PYG{n}{message} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Go Back}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to edit the maze or select different end points.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{View Larger Image}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to display the image on the canvas in a larger format.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Save Maze}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to save the solved maze in the form }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{example\PYGZhy{}path.png}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Change Path Colours}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to change the colour gradient used to draw the path.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}Press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{View Larger Image}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{ to display the image on the canvas in a larger format.\PYGZsq{}}
            \PYG{n}{message} \PYG{o}{+=} \PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}} \PYG{o}{+} \PYG{l+s+s1}{\PYGZsq{}If you would like to return to the main menu press }\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{Return Home}\PYG{l+s+se}{\PYGZbs{}\PYGZsq{}}\PYG{l+s+s1}{.\PYGZsq{}}
        \PYG{n}{messagebox}\PYG{o}{.}\PYG{n}{showinfo}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}Help\PYGZsq{}}\PYG{p}{,} \PYG{n}{message}\PYG{p}{)}

    \PYG{k}{def} \PYG{n+nf}{call\PYGZus{}load}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{file\PYGZus{}name}\PYG{p}{,} \PYG{n}{rectilinear}\PYG{p}{):}                                \PYG{c+c1}{\PYGZsh{}THREADED FUNCTION TO LOAD MAZE FROM IMAGE}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{n}{file\PYGZus{}name}\PYG{p}{,} \PYG{n}{rectilinear}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{generate\PYGZus{}maze}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{call\PYGZus{}draw}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{,} \PYG{n}{width}\PYG{p}{,} \PYG{n}{height}\PYG{p}{,} \PYG{n}{file\PYGZus{}name}\PYG{p}{):}                              \PYG{c+c1}{\PYGZsh{}THREADED FUNCTION TO DRAW MAZE}
        \PYG{n}{image} \PYG{o}{=} \PYG{n}{PIL}\PYG{o}{.}\PYG{n}{new}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}RGB\PYGZsq{}}\PYG{p}{,(}\PYG{n}{width}\PYG{p}{,} \PYG{n}{height}\PYG{p}{))}
        \PYG{n}{image}\PYG{o}{.}\PYG{n}{save}\PYG{p}{(}\PYG{n}{file\PYGZus{}name}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}PNG\PYGZsq{}}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object} \PYG{o}{=} \PYG{n}{Image}\PYG{p}{(}\PYG{n}{file\PYGZus{}name}\PYG{p}{,} \PYG{n+nb+bp}{False}\PYG{p}{)}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{generate\PYGZus{}maze}\PYG{p}{()}

        \PYG{n}{cmd\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}/usr/local/bin/processing\PYGZhy{}java\PYGZsq{}}
        \PYG{n}{script\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZhy{}sketch=/Users/danarmstrong/Desktop/Coursework/build\PYGZsq{}}   \PYG{c+c1}{\PYGZsh{}CALL PROCESSING PROGRAM AND WAIT FOR OUTPUT}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{subprocess}\PYG{o}{.}\PYG{n}{check\PYGZus{}output}\PYG{p}{([}\PYG{n}{cmd\PYGZus{}path}\PYG{p}{,} \PYG{n}{script\PYGZus{}path}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZhy{}run\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}0\PYGZsq{}}\PYG{p}{,} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}quit\PYGZus{}file}\PYG{p}{(),} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}maze\PYGZus{}csv\PYGZus{}name}\PYG{p}{(),}
                                          \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}cell\PYGZus{}size}\PYG{p}{()),} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}wall\PYGZus{}size}\PYG{p}{())],}
                                          \PYG{n}{universal\PYGZus{}newlines}\PYG{o}{=}\PYG{n+nb+bp}{True}\PYG{p}{)}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}

        \PYG{k}{if} \PYG{n}{output}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}quit\PYGZsq{}} \PYG{p}{:} \PYG{k}{raise} \PYG{n}{update}\PYG{o}{.}\PYG{n}{Quit}                              \PYG{c+c1}{\PYGZsh{}QUIT IF PROCESSING WINDOW QUIT}

    \PYG{k}{def} \PYG{n+nf}{call\PYGZus{}edit}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}THREADED FUNCTION TO EDIT MAZE}
        \PYG{n}{cmd\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}/usr/local/bin/processing\PYGZhy{}java\PYGZsq{}}
        \PYG{n}{script\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZhy{}sketch=/Users/danarmstrong/Desktop/Coursework/build\PYGZsq{}}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{subprocess}\PYG{o}{.}\PYG{n}{check\PYGZus{}output}\PYG{p}{([}\PYG{n}{cmd\PYGZus{}path}\PYG{p}{,} \PYG{n}{script\PYGZus{}path}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZhy{}run\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}1\PYGZsq{}}\PYG{p}{,} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}quit\PYGZus{}file}\PYG{p}{(),} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}maze\PYGZus{}csv\PYGZus{}name}\PYG{p}{(),}
                                          \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}cell\PYGZus{}size}\PYG{p}{()),} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}wall\PYGZus{}size}\PYG{p}{())],}
                                          \PYG{n}{universal\PYGZus{}newlines}\PYG{o}{=}\PYG{n+nb+bp}{True}\PYG{p}{)}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{output}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}quit\PYGZsq{}} \PYG{p}{:} \PYG{k}{raise} \PYG{n}{update}\PYG{o}{.}\PYG{n}{Quit}

    \PYG{k}{def} \PYG{n+nf}{call\PYGZus{}invert}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                      \PYG{c+c1}{\PYGZsh{}THREADED FUNCTION TO INVERT MAZE IMAGE}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{invert\PYGZus{}maze}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{generate\PYGZus{}maze}\PYG{p}{()}                                        \PYG{c+c1}{\PYGZsh{}RELOADS MAZE IN ITS INVERTED FORM}

    \PYG{k}{def} \PYG{n+nf}{call\PYGZus{}select}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                      \PYG{c+c1}{\PYGZsh{}THREADED FUNCTION TO SELECT POINTS}
        \PYG{n}{cmd\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}/usr/local/bin/processing\PYGZhy{}java\PYGZsq{}}
        \PYG{n}{script\PYGZus{}path} \PYG{o}{=} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZhy{}sketch=/Users/danarmstrong/Desktop/Coursework/build\PYGZsq{}}   \PYG{c+c1}{\PYGZsh{}CALL PROCESSING PROGRAM AND WAIT FOR OUTPUT}
        \PYG{n}{output} \PYG{o}{=} \PYG{n}{subprocess}\PYG{o}{.}\PYG{n}{check\PYGZus{}output}\PYG{p}{([}\PYG{n}{cmd\PYGZus{}path}\PYG{p}{,} \PYG{n}{script\PYGZus{}path}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}\PYGZhy{}\PYGZhy{}run\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}2\PYGZsq{}}\PYG{p}{,} \PYG{n}{update}\PYG{o}{.}\PYG{n}{get\PYGZus{}quit\PYGZus{}file}\PYG{p}{(),} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}maze\PYGZus{}csv\PYGZus{}name}\PYG{p}{(),}
                                          \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}cell\PYGZus{}size}\PYG{p}{()),} \PYG{n+nb}{str}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{get\PYGZus{}wall\PYGZus{}size}\PYG{p}{())],}
                                          \PYG{n}{universal\PYGZus{}newlines}\PYG{o}{=}\PYG{n+nb+bp}{True}\PYG{p}{)}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+se}{\PYGZbs{}n}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{)}
        \PYG{k}{if} \PYG{n}{output}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]} \PYG{o}{==} \PYG{l+s+s1}{\PYGZsq{}quit\PYGZsq{}} \PYG{p}{:} \PYG{k}{raise} \PYG{n}{update}\PYG{o}{.}\PYG{n}{Quit}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{set\PYGZus{}end\PYGZus{}points}\PYG{p}{(}\PYG{n+nb}{list}\PYG{p}{(}\PYG{n+nb}{map}\PYG{p}{(}\PYG{n+nb}{int}\PYG{p}{,} \PYG{n}{output}\PYG{p}{[}\PYG{l+m+mi}{0}\PYG{p}{]}\PYG{o}{.}\PYG{n}{split}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{} \PYGZsq{}}\PYG{p}{))))}   \PYG{c+c1}{\PYGZsh{}SET END POINTS FROM OUTPUT}

    \PYG{k}{def} \PYG{n+nf}{call\PYGZus{}find}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                        \PYG{c+c1}{\PYGZsh{}THREADED FUNCTION TO FIND THE PATH}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{generate\PYGZus{}nodes}\PYG{p}{()}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{maze\PYGZus{}object}\PYG{o}{.}\PYG{n}{generate\PYGZus{}path}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{return\PYGZus{}home}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                      \PYG{c+c1}{\PYGZsh{}RETURN TO MAIN MENU}
        \PYG{k}{if} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{state} \PYG{o+ow}{in} \PYG{p}{[}\PYG{l+s+s1}{\PYGZsq{}creating\PYGZsq{}}\PYG{p}{,}  \PYG{l+s+s1}{\PYGZsq{}drawing\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}editing\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}selecting\PYGZsq{}}\PYG{p}{,} \PYG{l+s+s1}{\PYGZsq{}finding\PYGZsq{}}\PYG{p}{]:}
            \PYG{n}{update}\PYG{o}{.}\PYG{n}{set\PYGZus{}quitting}\PYG{p}{(}\PYG{n+nb+bp}{True}\PYG{p}{)}
        \PYG{k}{else}\PYG{p}{:}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}canvas}\PYG{o}{.}\PYG{n}{delete}\PYG{p}{(}\PYG{l+s+s1}{\PYGZsq{}image\PYGZsq{}}\PYG{p}{)}
            \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{main\PYGZus{}menu}\PYG{p}{()}

    \PYG{k}{def} \PYG{n+nf}{go\PYGZus{}back}\PYG{p}{(}\PYG{n+nb+bp}{self}\PYG{p}{):}                                                          \PYG{c+c1}{\PYGZsh{}GO BACK TO IMAGE MENU}
        \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{display\PYGZus{}maze}\PYG{p}{()}


\PYG{n}{root} \PYG{o}{=} \PYG{n}{Tk}\PYG{p}{()}                                                                     \PYG{c+c1}{\PYGZsh{}RUN GUI}
\PYG{n}{root}\PYG{o}{.}\PYG{n}{resizable}\PYG{p}{(}\PYG{n}{width}\PYG{o}{=}\PYG{n+nb+bp}{False}\PYG{p}{,} \PYG{n}{height}\PYG{o}{=}\PYG{n+nb+bp}{False}\PYG{p}{)}
\PYG{n}{app} \PYG{o}{=} \PYG{n}{Window}\PYG{p}{(}\PYG{n}{root}\PYG{p}{)}
\PYG{n}{root}\PYG{o}{.}\PYG{n}{after}\PYG{p}{(}\PYG{l+m+mi}{1}\PYG{p}{,}\PYG{n}{app}\PYG{o}{.}\PYG{n}{update}\PYG{p}{)}
\PYG{n}{root}\PYG{o}{.}\PYG{n}{mainloop}\PYG{p}{()}
\end{Verbatim}
